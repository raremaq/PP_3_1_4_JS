<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"
      class="h-100">
<head>
    <meta charset="UTF-8">
    <title>Главная страница</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="icon" type="image/png" href="https://e7.pngegg.com/pngimages/6/979/png-clipart-spring-framework-computer-icons-spring-web-flow-java-advancement-leaf-logo.png">
</head>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

<body class="h-100 w-100 bg-light">

<!--header -->
<div class="h-100">
    <nav class="navbar navbar-dark bg-dark" style="height: min-content">
        <div class="container-fluid">
            <b class="navbar-brand" id="header"></b>
            <a class="navbar-brand" href="/logout">Выйти</a>
        </div>
    </nav>

    <!--основной контейнер со всем содержимым, автоматически изменяемый по размеру-->
    <div class="container-fluid h-100" style="padding-right: 0">


        <div class="row h-100 w-100">

            <!--    левый блок столбец (выбор страницы панели админа или юзера)-->
            <div class="col-md-2 d-flex flex-column flex-shrink-0 p-3 bg-white">
                <ul class="nav nav-pills flex-column mb-auto">
                    <li class="nav-item" id="adminContent">
                        <a class="nav-link" id="admin-tab" data-bs-toggle="tab" data-bs-target="#admin"
                           type="button" role="tab" aria-controls="admin" aria-selected="true">Админ
                        </a>
                    </li>
                    <li>
                        <a class="nav-link" id="user-tab" data-bs-toggle="tab" data-bs-target="#user"
                           type="button" role="tab" aria-controls="user" aria-selected="true">Пользователь
                        </a>
                    </li>
                </ul>
            </div>

            <!--    контент -->
            <div class="tab-content col-md-10 text-left bg-light" id="123">

                <!-- блок с вкладлками, текст аллюзерс, таблица ( внутри таблицы модальные окна, вкладки юзер тэйбл и нью юзер) -->

                <div class="tab-pane fade text-left  p-3"
                     id="admin" role="tabpanel"
                     aria-labelledby="admin-tab">
                    <h1 style="color: black">Панель администратора</h1>

                    <!-- блок с вкладками  юзер тэйбл, нью юзер-->

                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <button class="nav-link active" id="table-tab" data-bs-toggle="tab"
                                    data-bs-target="#table"
                                    type="button" role="tab" aria-controls="table" aria-selected="true">Таблица
                                пользователей
                            </button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="addForm-tab" data-bs-toggle="tab" data-bs-target="#addForm"
                                    type="button" role="tab" aria-controls="addForm" aria-selected="true">Новый
                                пользователь
                            </button>
                        </li>
                    </ul>


                    <div class="tab-content" id="myTabContent">

                        <!--     контент вкладки Таблица пользователей    -->

                        <div class="tab-pane fade show active border" id="table" role="tabpanel"
                             aria-labelledby="table-tab">


                            <!--    текст аллюзерс     -->
                            <h5 class="p-3 mb-0 border-bottom"> Все пользователи</h5>

                            <!--    ТАБЛИЦА    -->
                            <div class="col p-3 bg-white">
                                <table class="table table-striped table-hover border-top">
                                    <thead>
                                    <tr>
                                        <th scope="col">ID</th>
                                        <th scope="col">Имя</th>
                                        <th scope="col">Фамилия</th>
                                        <th scope="col">Возраст</th>
                                        <th scope="col">Имя пользователя</th>
                                        <th scope="col">Роль</th>
                                        <th>Изменить</th>
                                        <th>Удалить</th>
                                    </tr>
                                    </thead>
                                    <tbody id="tBody"></tbody>
                                </table>
                            </div>
                        </div>

                        <!--            контент вкладки Новый пользователь            -->

                        <div class="tab-pane fade border" id="addForm" role="tabpanel"
                             aria-labelledby="profile-tab">

                            <!--            надпись Добавить нового пользователя            -->

                            <h5 class="p-3 mb-0 border-bottom"> Добавить нового пользователя </h5>

                            <!--           формы           -->

                            <form id="formNewUser"
                                  class="col p-3 bg-white" >
                                <p>
                                    <label for="newFirstName" class="form-label">Имя</label>
                                    <input class="form-control form-control-sm" type="text"
                                           id="newFirstName" placeholder="First name" required autofocus>
                                </p>
                                <p>
                                    <label for="newLastName" class="form-label">Фамилия</label>
                                    <input class="form-control form-control-sm" type="text" required
                                           id="newLastName" placeholder="Last name">
                                </p>
                                <p>
                                    <label for="newAge" class="form-label">Возраст</label>
                                    <input class="form-control form-control-sm" type="number" required
                                           id="newAge" placeholder="Age" value="">
                                </p>
                                <p>
                                    <label for="newUsername" class="form-label">Имя пользователя</label>
                                    <input class="form-control form-control-sm" type="text"
                                           id="newUsername" placeholder="Username" required>
                                </p>
                                <p>
                                    <label for="newPassword" class="form-label">Пароль</label>
                                    <input class="form-control form-control-sm" type="password"
                                           id="newPassword" placeholder="Password" required>
                                </p>
                                <p>
                                    <label for="newRoles" class="form-label">Роль</label>
                                    <select id="newRoles" class="form-control form-control-sm" multiple size="2" required>
                                        <option value="ROLE_USER" label="USER"></option>
                                        <option value="ROLE_ADMIN" label="ADMIN"></option>
                                    </select>
                                </p>
                            </form>
                            <button class="btn btn-success" onclick="newUser()">Создать</button>


                        </div>
                    </div>
                </div>

                <div class="tab-pane fade text-left p-3"
                     id="user" role="tabpanel"
                     aria-labelledby="user-tab">
                    <h1 style="color: black">Информация о пользователе</h1>
                    <div class="tab-content border" id="userTabContent">

                        <!--    текст Инфа о пользователе     -->

                        <h5 class="p-3 mb-0 border border-bottom">Информация о пользователе</h5>

                        <!--    ТАБЛИЦА    -->

                        <div class="col p-3 bg-white">
                            <table class="table table-striped table-hover border-top">
                                <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Имя</th>
                                    <th scope="col">Фамилия</th>
                                    <th scope="col">Возраст</th>
                                    <th scope="col">Имя пользователя</th>
                                    <th scope="col">Роль</th>
                                </tr>
                                </thead>
                                <tbody id="user_info"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="modalWindow"></div>
<div id="NewUserCreated" class="modal fade mx-auto" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-sm mx-auto" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Новый пользователь создан</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script src="/newUser.js"></script>
<script src="/deleteUser.js"></script>
<script src="/editUser.js"></script>
<script src="/modalDelete.js"></script>
<script src="/modalEdit.js"></script>
<script src="/listRoles.js"></script>
<script src="/allUsers.js"></script>
<script src="/authorize.js"></script>
<script src="/userInfo.js"></script>

</body>
</html>